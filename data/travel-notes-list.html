<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Travel-WMS</title>
    <meta charset="UTF-8">
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/zoom.css" rel="stylesheet">
    <link href="../css/common.css" rel="stylesheet">
    <link href="../css/notes-list.css" rel="stylesheet">
  </head>
  <body>
    <div class="page">
      <header>游记列表</header>
      <div class="toolbar">
        <button type="button" class="btn btn-dark" onclick="openNotesModal(this, 1)"><i class="fa fa-plus"></i>添加游记</button>
      </div>
      <table class="table">
        <thead>
          <tr>
            <th scope="col">ID</th>
            <th scope="col">标题</th>
            <th scope="col">封面</th>
            <th scope="col">作者</th>
            <th scope="col">发表时间</th>
            <th scope="col">浏览量</th>
            <th scope="col">赞数</th>
            <th scope="col">城市</th>
            <th scope="col">状态</th>
            <th scope="col">操作</th>
          </tr>
        </thead>
        <tbody id="travelNotesList">
          <script id="travelNotesListTemp" type="x-tmpl-mustache">
            {{#data}}
              <tr>
                <th scope="row">{{id}}</th>
                <td>{{title}}</td>
                <td>
                  <img src="{{cover}}" data-action="zoom" />
                </td>
                <td>{{author_name}}</td>
                <td>{{time}}</td>
                <td>{{page_view}}</td>
                <td>{{like_num}}</td>
                <td>{{city}}</td>
                <td>{{status}}</td>
                <td class="action">
                  <i class="fa fa-eye" title="预览" data-id={{id}} onclick="preview(this)"></i>
                  <i class="fa fa-pencil" title="修改" data-id={{id}} onclick="openNotesModal(this, 2)"></i>
                </td>
              </tr>
            {{/data}}
          </script>
        </tbody>
      </table>
      
      <!-- Modal -->
      <div class="modal fade bd-example-modal-lg notesModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">添加攻略</h5>
            </div>
            <div class="add-cover">
              <div class="overlay">
                <i class="fa fa-plus"></i>
                <span>更改封面</span>
              </div>
              <img src="http://via.placeholder.com/800x300?text=cover" id="cover" />
              <input type="file" id="coverIMG" hidden />
            </div>
            <div class="modal-body">
              <input type="text" class="form-control" placeholder="标题" id="title" />
              <input type="text" class="form-control" placeholder="作者" id="author" />
              <input type="text" class="form-control" placeholder="城市" id="city" />
              <div id="editor"></div>
              <div class="status">
                <span>状态：</span>
                <label>
                  <input type="radio" name="status" class="notesStatus" />
                  <span>隐藏</span>
                </label>
                <label>
                  <input type="radio" name="status" class="notesStatus" checked />
                  <span>显示</span>
                </label>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
              <button type="button" class="btn btn-primary saveBtn">保存</button>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade bd-example-modal-lg previewModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">预览</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div class="preview-cover">
                <img src="" />
              </div>
              <div class="preview-title"></div>
              <div class="preview-meta">
                <span class="preview-pubtime"></span>
                <span class="preview-city"></span>
              </div>
              <div class="preview-content"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script src="../js/libs/jquery-2.2.4.min.js"></script>
  <script src="../js/core/popper.js"></script>
  <script src="../js/core/bootstrap.min.js"></script>
  <script src="../js/plugins/mustache.min.js"></script>
  <script src="../js/plugins/zoom.js"></script>
  <script src="../js/plugins/wangEditor.min.js"></script>
  <script src="../js/views/common.js"></script>
  <script src="../js/views/travel-notes-list.js"></script>
</html>